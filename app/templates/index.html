<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Depression State Detection Using Machine Learning</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        h1 {
            margin-bottom: 100px;
        }
        form {
            margin-top: 50px;
            display: flex;
            gap: 30px;
        }

        
        .top {
            display: flex;
            
        }

        .gender {
            
            box-sizing: border-box;
            font-family: inherit;
            font-size: 14px;
            vertical-align: baseline;
            font-weight: 400;
            line-height: 1.29;
            letter-spacing: .16px;
            border-radius: 0;
            outline: 2px solid transparent;
            outline-offset: -2px;
            width: 50%;
            height: 40px;
            border: none;
            border-bottom: 1px solid #8d8d8d;
            background-color: #f4f4f4;
            padding: 0 16px;
            color: #161616;
            transition: background-color 70ms cubic-bezier(.2,0,.38,.9),outline 70ms cubic-bezier(.2,0,.38,.9);  
                }

            .gender:focus{
                outline: 2px solid #0f62fe;
                outline-offset: -2px;
            } 

            p {
                font-size: larger;
            }

            button {

                display: inline-block;
                outline: 0;
                cursor: pointer;
                padding: 5px 16px;
                font-size: 14px;
                font-weight: 500;
                line-height: 20px;
                vertical-align: middle;
                border: 1px solid;
                border-radius: 6px;
                color: #ffffff;
                background-color: #0f62fe;
                border-color: #1b1f2326;
                box-shadow: rgba(27, 31, 35, 0.04) 0px 1px 0px 0px, rgba(255, 255, 255, 0.25) 0px 1px 0px 0px inset;
                transition: 0.2s cubic-bezier(0.3, 0, 0.5, 1);
                transition-property: color, background-color, border-color;

                    
            }
            button:hover {
                background-color: #1e69f58f;
                border-color: #1b1f2326;
                transition-duration: 0.1s;
                }
        
    </style>
</head>
<body>
    <div class="top">
        <h1>Depression States Detection <br> Using Machine Learning</h1>
        <img src="./fear.png" alt="">
    </div>

    <p class="desc">Welcome to our demo app developed for the IGP project, dedicated to detecting depression states using machine learning. </p>
    
    <form id="uploadForm" enctype="multipart/form-data">
        <input class="gender" type="text" name="gender" placeholder="Enter your gender">
        <input type="file" name="file" id="fileInput" accept=".csv">
        <button type="submit">Upload</button>
    </form>
    <div id="predictionResult"></div>
    <p id="errorMessage" style="color: red; display: none;"></p>

<script>
    document.getElementById('uploadForm').addEventListener('submit', async function(event) {
        event.preventDefault();
    
        const formData = new FormData();
        formData.append('file', document.getElementById('fileInput').files[0]);

        const response = await fetch('/upload', {
            method: 'POST',
            body: formData
    });

        const data = await response.json();
        if (response.ok) {
            // Display the prediction result in the HTML page
            document.getElementById('predictionResult').innerText = 'Prediction: ' + data.prediction;
            document.getElementById('errorMessage').style.display = 'none';
        } else {
            // Display error message if prediction fails
            document.getElementById('errorMessage').innerText = data.error;
            document.getElementById('errorMessage').style.display = 'block';
            document.getElementById('predictionResult').innerText = '';
        }
    });
</script>
    
</body>
</html>
